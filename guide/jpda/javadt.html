






<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Java Platform Debugger Architecture</title>
<meta name="description" content="As a demonstration of the Java Debug Interface (JDI), we are providing source code for a simple GUI debugging tool - javadt. It is included as an example and demonstration of JDI. It is not a finished or polished debugger and is missing many features of importance for real debugging work." />
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<meta name="archiveFlag" content="false"/>
<meta name="date" content="2003-04-12" />
<link rel="stylesheet" href="/css/default_developer.css" />
<script type='text/JavaScript' src='/js/popUp.js'></script>
</head>
<!--stopindex-->
<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" rightmargin="0" bgcolor="#ffffff">
<a name="top"></a>
<!-- BEGIN MASTHEAD -->
<!-- BEGIN VNV1 MASTHEAD COMPONENT, thinner variation for content pages -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td>
<table border="0" cellpadding="0" cellspacing="0" width="100%" height="25" class="topnav">
<form name="formsearch" action="/dispatcher.jsp" method="post">
<tr>
<td><a href="#mast"><img src="/im/a.gif" width="10" height="1" border="0" alt="Skip Masthead Links" /></a></td>
<td><a href="http://developers.sun.com">developers.sun.com</a></td>
<td width="100%">&nbsp;</td> 
<td nowrap="nowrap"><span class="rightarrowblue">&raquo;</span>&nbsp;<a href="/dispatcher.jsp?uid=6910020">search tips</a>&nbsp;&nbsp;|&nbsp;&nbsp;<b>Search:</b>&nbsp;</td>
<td><input name="qt" class="medium" size="7" value="" /></td>
<td>&nbsp;</td>
<td class="selectcell"><select class="globalsearch" name="uid">
<option value="6910018" selected>in Developers' Site</option>
<option value="6910019">in Sun.com</option>
</select></td>
<td>&nbsp;</td>
<td valign="middle" align="left"><input type="submit" border="0" class="buttonred" value="&nbsp;&raquo;&nbsp;" onmouseover="this.style.color='#fbe249';" onmouseout="this.style.color='#FFF';" /></td>
<td><img src="/im/a.gif" width="10" height="1" alt=" " /></td>
</tr></form>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td><img src="/im/a.gif" width="10" height="1" border="0" alt=" " /></td>
<td valign="top" class="grey3"><a href="http://java.sun.com"><img src="/im/logo_java_grey.gif" width="180" height="53" border="0" alt=" " /></a></td>
<td><img src="/im/a.gif" width="10" height="1" border="0" alt=" " /></td>
<td class="sunblue" valign="top" nowrap="nowrap"><div class="pad6"><a href="http://developers.sun.com"><img src="/im/masthead_the_source.gif" width="262" height="25" border="0" alt="The Source for Developers" /></a><br />
<a href="/dispatcher.jsp?uid=6910022"><img src="/im/masthead_sdn_site.gif" width="169" height="15" border="0" alt="A Sun Developer Network Site" /></a></div></td>
<td class="sunblue"><img src="/im/a.gif" width="10" height="1" border="0" alt=" " /></td>
<td class="sunblue"><div class="pad6"><a href="/dispatcher.jsp?uid=6910023"><img src="/im/masthead_prod_and_tech.gif" width="158" height="15" border="0" alt="Products and Technologies" /></a><br /><a href="/dispatcher.jsp?uid=6910024"><img src="/im/masthead_tech_topics.gif" width="105" height="15" border="0" alt="Technical Topics" /></a></div><img src="/im/a.gif" width="196" height="1" border="0" alt=" " /></td>
<td class="sunblue" width="100%" valign="top" align="right"><div class="pad10"><a href="http://www.sun.com"><img src="/im/logo_sun.gif" width="72" height="33" border="0" alt="Sun Microsystems" /></a></div></td>
<td><a name="mast"></a><a href="#skip2content"><img src="/im/a.gif" width="10" height="1" border="0" alt=" " /></a></td></tr>
</table>
</td></tr>
</table>
<span class="sp5">&nbsp;</span><br />
<!-- END VNV1 MASTHEAD COMPONENT, thinner variation for content pages -->   
<!-- END MASTHEAD -->
<!-- BEGIN BREADCRUMB -->
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="vatop">
<tr>
<td>      
<div class="breadcrumb">
<a href="http://developers.sun.com/index.html">Developers Home</a> &gt; <a href="http://developers.sun.com/prodtech/index.html">Products & Technologies</a> &gt; <a href="http://java.sun.com/index.jsp">Java Technology</a> &gt; <a href="http://java.sun.com/j2se/index.jsp">J2SE</a> &gt; <a href="http://java.sun.com/j2se/corejava/index.jsp">Core Java</a> &gt; <a href="http://java.sun.com/products/jpda/index.jsp">JPDA</a> &gt; <a href="http://java.sun.com/products/jpda/reference/index.html">Reference</a> &gt; <a href="http://java.sun.com/products/jpda/examples.html">Tested Configurations</a> &gt;
</div>
</td>
<td align="right" nowrap="nowrap"><div class="breadcrumb">
<b><a href="http://developers.sun.com/dispatcher.jsp?uid=6910021">Join a Sun Developer Network Community</a></b><br />
<a href="http://developers.sun.com/user_registration/index.html">Profile and Registration</a> | 
<a href="http://developers.sun.com/user_registration/whyregister.html">Why Register?</a>
</div></td></tr>
<tr><td colspan="2"><img src="/im/a.gif" width="770" height="1" border="0" alt=" " /></td></tr>
</table>
<span class="sp5">&nbsp;</span><br />     
<!-- END BREADCRUMB -->
<!-- BEGIN PAGETITLE -->
<div class="pagetitle2">Tested Configurations</div>
<div class="pagetitle">Java Platform Debugger Architecture</div>
<!-- END PAGETITLE -->
<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="10" cellspacing="0" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->
<!--startindex-->
<!-- ============ -->
<!-- MAIN CONTENT -->
<!-- ============ -->
<a name="skip2content"></a>
<!--  BEGIN VCD4 BYLINE AND TOOLS  -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td class="smaller" valign="top"><em></em></td>
<td width="10">&nbsp;</td>
<td align="right" valign="bottom"><div class="sitelinks" style="padding:0px;">
<table border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="bottom" align="right">&nbsp;</td>
<td valign="bottom" class="smaller" nowrap="nowrap"><a href="/jsp_utils/PrintPage.jsp" target="printFriendlyView" onclick="openPopup('','printFriendlyView',710,650,'no',1,1,0,0,0,0); return true;"><img src="/im/ic_print.gif" width="14" height="12" alt="Print-friendly Version" border="0" hspace="4" />Print-friendly Version</a><br></td>
</tr></table></div>
</td></tr>
</table>
<!--  END VCD4 BYLINE AND TOOLS  -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!--  BEGIN VCD4 BYLINE AND TOOLS  -->
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td class="smaller" valign="top"><em></em><br>
</td>
<td width="10">&nbsp;</td>
<td align="right" valign="bottom">
<div class="sitelinks" style="padding: 0px;">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td valign="bottom" align="right">&nbsp;</td>
<td valign="bottom" class="smaller" nowrap="nowrap"><a
href="/jsp_utils/PrintPage.jsp" target="printFriendlyView"
onclick="openPopup('','printFriendlyView',710,650,'no',1,1,0,0,0,0); return true;"><img
src="/im/ic_print.gif" width="14" height="12"
alt="Print-friendly Version" border="0" hspace="4">Print-friendly
Version</a></td>
</tr>
</tbody>
</table>
</div>
</td>
</tr>
</tbody>
</table>
<div class="contentdivider">
<table border="0" cellpadding="0" cellspacing="0" width="100%"
class="grey4">
<tbody>
<tr>
<td><img src="/im/a.gif" width="1" height="4" border="0" alt=" "></td>
</tr>
</tbody>
</table>
</div>
<!--  END VCD4 BYLINE AND TOOLS  --><!-- page headline --><!-- end page headline --><!-- main page content -->
<h3>Release notes for the javadt debugger</h3>
As a demonstration of the Java Debug Interface (JDI),
we are providing source code for a simple GUI debugging tool - <b>javadt</b>.
It is included as an example and demonstration of JDI. It is not a
finished or polished debugger and is
missing many features of importance for real debugging work.
<p></p>
<h3>Invoking javadt</h3>
<p>
<b>javadt</b> can be run by executing:
</p>
<pre>   java gui.GUI &lt;options&gt;.. &lt;class-name&gt;<br></pre>
<p>
where &lt;class-name&gt; is the name you would normally
place on the <code>java</code> command line.
Note: the paths to the <a href="examples.html#SETUP">JDI Library</a>
and to
the compiled <b>javadt</b> class files must be on the class path
used to invoke <tt>gui.GUI</tt>. Be sure that the Java 2 SDK's <tt>lib/tools.jar</tt>
file on your class path.
</p>
<p>
For example, you can invoke the javadt debugger as follows:
</p>
<pre>   javadt gui.GUI -classpath . Hello<br></pre>
Note: this <code>-classpath</code> option controls the
class path for the <code>Hello</code> application.
Once the window appears, you can issue the 'run' command to begin
execution immediately. It is also
possible to give the class name in the 'run' command, in
which case it may be omitted when invoking the debugger from the
shell.
<p></p>
<p>
The classpath may also be set from within the debugger, using the
'classpath' command. Currently, other arguments to the VM must be
given on the shell command line when the debugger is initially invoked.
The most recently mentioned classpath, VM arguments, main
class name, and program arguments are retained as defaults for later
'run' and 'load' commands. (Unfortunately, at present, the debugger
will likely crash if you attempt to begin another debugging session
with another debuggee process from within the same invocation of the
debugger. You should exit to the shell and start a new debugger
process.)
</p>
<h3>Using javadt</h3>
<p>
The javadt normally displays context related to the "current thread",
that is, the thread that most recently encountered a breakpoint, threw
an uncaught exception, or was single-stepped by the user. When program
execution is suspended on account of one of these events, a
current thread exists, and the javadt displays the following
information about it:
</p>
<p>
</p>
<ul>
<li>A stack backtrace.</li>
<li>The source code surrounding the line corresponding to the
instruction counter for the thread, if the source code is available.</li>
</ul>
<p></p>
<p>
In addition, a tabbed pane allows the user to view one of three
additional views:
</p>
<p>
</p>
<ul>
<li>A tree of all source files available on the source path.</li>
<li>A tree of all loaded class files, organized hierarchically by
package.</li>
<li>A tree of all active threads, organized hierarchically by thread
group.</li>
</ul>
<p></p>
<p>
By clicking on the name of a source file, the source view can be
directed to display it. Likewise, clicking on a thread will make that
thread the current thread. These features are normally used while the
program is suspended, e.g, at a breakpoint. Upon resumption and
encountering another breakpoint, for example, the current thread will
be automatically reset and the views will be updated. The views tile
the javadt display, and are adjustable in size.
</p>
<p>
The javadt functionality is rather basic, thus a command-line
interaction window is also provided that allows access to functions
that are not
yet exposed in the javadt. In particular, it is necessary to use the
command line in order to set breakpoints and examine variables. The
javadt debugger command interpreter implements roughly a subset of the <a
href="jdb.html">jdb</a> functionality, but adds a few commands of its
own. The 'help' command lists the complete set of commands and their
function. Shortcuts for a set of the most common commands is provided
on a
button-bar at the top of the display.
</p>
<p>
The program to be debugged may be started either as a child of the
debugger, or the debugger can be attached to an existing process,
provided that its VM is prepared to accept the connection. If the
debuggee is started by the debugger as a child, a line-oriented
interface to its standard input, output, and error streams is provided
in an application interaction pane.
</p>
<p>
The debugger expects to find the program source code on its sourcepath,
set with the 'use' or 'sourcepath' command. If you find
that sources are not being displayed because the sourcepath is
incorrect, you may change it at that time, and the source view will be
immediately updated.
</p>
<p>
The message "No current thread" is often encountered when stepping
through a program. This message does not mean that the thread or
the VM has died, merely that a current thread is undefined. This
situation can easily occur unexpectedly when the program being
stepped is waiting, eg., for input. The VM appears to be stopped, as it
would be after the successful completion of a step, but it
is considered to be "running", not "interrupted". The prompt in the
command interaction pane indicates the state by changing
to a thread name and frame number when the VM is interrupted. When it
is running, the prompt "Command:" is displayed.
</p>
<h3>Source for javadt</h3>
<p>
Full source code for <b>javadt</b> is included in the <code>com/sun/tools/example/debug</code>
directory of <code>examples.jar</code>.
Note: this directory also includes the source for <a href="jdb.html"><code>jdb</code></a>.
Source code of these example applications is included to provide
concrete examples for debugger developers. Example code may be used,
modified
and redistributed by debugger developers providing they adhere to the
terms in the copyright notice.
</p>
<p>
<b>javadt</b> uses the following packages (found in the <code>com/sun/tools/example/debug</code>
directory of <tt>examples.jar</tt>):
</p>
<dl>
<dt><code>gui</code>
</dt>
<dd>User interface code
</dd>
<dt><code>bdi</code>
</dt>
<dd>Debugger core code
</dd>
<dt><code>events</code>
</dt>
<dd>Event Set code
</dd>
<dt><code>expr</code>
</dt>
<dd>Expression processing code
</dd>
</dl>
<h3>Building javadt</h3>
<p>
To build the <b>javadt</b> classes from the provided source files in
the <code>debuggers</code> directory,
you need only to compile them. No special options are required, aside
from those which set your classpath to
include the <a href="examples.html#SETUP">JDI Library</a>. However, if
want to modify the expression parser in the file
<code>Expr.jj</code>, you will need the <a
href="https://javacc.dev.java.net/">JavaCC parser generator</a>.
</p>
<!-- end main page content -->
</body>
</html>
<!-- =================== -->
<!-- END OF MAIN CONTENT -->
<!-- =================== -->
<!--stopindex-->
<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>
<!-- BEGIN SPACER ROW -->
<tr><td><img src="/im/a.gif" width="750" height="1" border="0" alt=" " /></td></tr>
<!-- END SPACER ROW -->
</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->
<!-- BEGIN VNV5 FOOTER  -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="vatop">
<tr>
<td colspan="4" valign="top" class="grey3"><img src="/im/a.gif" width="1" height="2" border="0" alt=" " /></td></tr>
<tr>
<td><img src="/im/a.gif" width="190" height="1" border="0" alt=" " /><br />
<a href="http://www.sun.com"><img src="/im/logo_sun_small_sdn.gif" width="61" height="29" border="0" alt=" " vspace="5"/></a></td>
<td width="100%" valign="top"><img src="/im/a.gif" width="350" height="1" border="0" alt=" " /><br />
<div class="footer">
<a href="/dispatcher.jsp?uid=6910015">Company Info</a> &nbsp;|&nbsp;
<a href="/dispatcher.jsp?uid=6910010">About This Site</a> &nbsp;|&nbsp;
<a href="/dispatcher.jsp?uid=6910011">Press</a> &nbsp;|&nbsp;
<a href="http://developers.sun.com/contact/index.jsp">Contact Us</a> &nbsp;|&nbsp;
<a href="/dispatcher.jsp?uid=6910014">Employment</a><br />
<a href="/dispatcher.jsp?uid=6910012">How to Buy</a> &nbsp;|&nbsp;
<a href="/dispatcher.jsp?uid=6910009">Licensing</a> &nbsp;|&nbsp;
<a href="/dispatcher.jsp?uid=6910013">Terms of Use</a> &nbsp;|&nbsp;
<a href="/dispatcher.jsp?uid=6910016">Privacy</a> &nbsp;|&nbsp;
<a href="/dispatcher.jsp?uid=6910017">Trademarks</a>
<br /><span class="sp10">&nbsp;</span><br />
<br /><span class="sp10">&nbsp;</span><br />
Copyright 1994-2004 Sun Microsystems, Inc.
</div></td>
<td><img src="/im/a.gif" width="40" height="1" border="0" alt=" " /></td>
<td valign="top"><div class="footer"><b><a href="/dispatcher.jsp?uid=6910010">A Sun Developer Network Site</a></b></div>
<div class="footer">
<img src="/im/a.gif" width="170" height="1" border="0" alt=" " /><br />
Unless otherwise licensed, code in all technical manuals herein (including articles, FAQs, samples) is provided under this <a href="/dispatcher.jsp?uid=6910008">License</a>.
<br /><span class="sp5">&nbsp;</span><br />
<a href="/dispatcher.jsp?uid=6910006"><img src="/im/button_xml.gif" width="36" height="14" align="top" border="0" alt="XML" /></a>&nbsp;<a href="/dispatcher.jsp?uid=6910007">Content Feeds</a>
</div></td></tr>
<tr><td colspan="4" valign="top" class="grey3"><img src="/im/a.gif" width="1" height="2" border="0" alt=" " /></td></tr>
</table>
</td></tr>
</table>
<!-- END VNV5 FOOTER -->
</body>
</html>



